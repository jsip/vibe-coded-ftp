{% with messages = get_flashed_messages(with_categories=true) %} 
{% if messages %} 
  {% for category, message in messages %}
  <div id="alert-{{ loop.index }}" class="mb-4 fade-in">
    {% if category == 'danger' %}
    <div
      class="bg-red-50 border-l-4 border-red-400 text-red-700 p-4 rounded flex justify-between items-center"
    >
      <p>{{ message }}</p>
      <button
        type="button"
        @click="document.getElementById('alert-{{ loop.index }}').remove()"
        class="text-red-500 hover:text-red-700"
      >
        <i class="fas fa-times"></i>
      </button>
    </div>
    {% elif category == 'success' %}
    <div
      class="bg-green-50 border-l-4 border-green-400 text-green-700 p-4 rounded flex justify-between items-center"
    >
      <p>{{ message }}</p>
      <button
        type="button"
        @click="document.getElementById('alert-{{ loop.index }}').remove()"
        class="text-green-500 hover:text-green-700"
      >
        <i class="fas fa-times"></i>
      </button>
    </div>
    {% else %}
    <div
      class="bg-blue-50 border-l-4 border-blue-400 text-blue-700 p-4 rounded flex justify-between items-center"
    >
      <p>{{ message }}</p>
      <button
        type="button"
        @click="document.getElementById('alert-{{ loop.index }}').remove()"
        class="text-blue-500 hover:text-blue-700"
      >
        <i class="fas fa-times"></i>
      </button>
    </div>
    {% endif %}
  </div>
  {% endfor %} 
{% endif %} 
{% endwith %}