<div
  x-show="showNewFolderModal"
  x-cloak
  class="fixed inset-0 z-10 overflow-y-auto"
  x-transition:enter="ease-out duration-300"
  x-transition:enter-start="opacity-0"
  x-transition:enter-end="opacity-100"
  x-transition:leave="ease-in duration-200"
  x-transition:leave-start="opacity-100"
  x-transition:leave-end="opacity-0"
>
  <div class="flex items-center justify-center min-h-screen px-4">
    <!-- Overlay -->
    <div
      class="fixed inset-0 bg-black opacity-30"
      @click="showNewFolderModal = false"
    ></div>

    <!-- Modal -->
    <div
      class="bg-white rounded-lg shadow-xl overflow-hidden z-20 w-full max-w-md"
      x-transition:enter="ease-out duration-300"
      x-transition:enter-start="opacity-0 transform scale-95"
      x-transition:enter-end="opacity-100 transform scale-100"
      x-transition:leave="ease-in duration-200"
      x-transition:leave-start="opacity-100 transform scale-100"
      x-transition:leave-end="opacity-0 transform scale-95"
    >
      <div
        class="bg-gray-100 px-4 py-3 text-gray-800 flex justify-between items-center border-b border-gray-200"
      >
        <h3 class="text-lg font-semibold">Create New Folder</h3>
        <button
          @click="showNewFolderModal = false"
          class="text-gray-600 hover:text-gray-900"
        >
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="p-4">
        <form
          action="{{ url_for('create_directory') }}"
          method="post"
          @submit="showNewFolderModal = false"
        >
          <input type="hidden" name="current_path" value="{{ current_path }}" />

          <div class="mb-4">
            <label
              for="dirname"
              class="block text-sm font-medium text-gray-700 mb-1"
              >Folder Name</label
            >
            <input
              type="text"
              id="dirname"
              name="dirname"
              class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-gray-400 focus:border-gray-400"
              required
            />
          </div>

          <div class="flex justify-end space-x-2">
            <button
              type="button"
              @click="showNewFolderModal = false"
              class="border border-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-50"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700"
            >
              Create
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
